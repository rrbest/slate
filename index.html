
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
     <link href="images/ark-red-favicon.png" rel="icon" type="image/png" />
    <title>ACES Encoded Listener API Docs</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight, .highlight .w {
  color: #303030;
}
.highlight .err {
  color: #151515;
  background-color: #ac4142;
}
.highlight .c, .highlight .cd, .highlight .cm, .highlight .c1, .highlight .cs {
  color: #505050;
}
.highlight .cp {
  color: #f4bf75;
}
.highlight .nt {
  color: #f4bf75;
}
.highlight .o, .highlight .ow {
  color: #d0d0d0;
}
.highlight .p, .highlight .pi {
  color: #d0d0d0;
}
.highlight .gi {
  color: #90a959;
}
.highlight .gd {
  color: #ac4142;
}
.highlight .gh {
  color: #6a9fb5;
  background-color: #151515;
  font-weight: bold;
}
.highlight .k, .highlight .kn, .highlight .kp, .highlight .kr, .highlight .kv {
  color: #aa759f;
}
.highlight .kc {
  color: #d28445;
}
.highlight .kt {
  color: #d28445;
}
.highlight .kd {
  color: #d28445;
}
.highlight .s, .highlight .sb, .highlight .sc, .highlight .sd, .highlight .s2, .highlight .sh, .highlight .sx, .highlight .s1 {
  color: #90a959;
}
.highlight .sr {
  color: #75b5aa;
}
.highlight .si {
  color: #8f5536;
}
.highlight .se {
  color: #8f5536;
}
.highlight .nn {
  color: #f4bf75;
}
.highlight .nc {
  color: #f4bf75;
}
.highlight .no {
  color: #f4bf75;
}
.highlight .na {
  color: #6a9fb5;
}
.highlight .m, .highlight .mf, .highlight .mh, .highlight .mi, .highlight .il, .highlight .mo, .highlight .mb, .highlight .mx {
  color: #90a959;
}
.highlight .ss {
  color: #90a959;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all.js"></script>
  </head>

  <body class="index" data-languages="[&quot;shell&quot;,&quot;java&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" alt="Navbar" />
      </span>
    </a>
    <div class="toc-wrapper">
      <img src="images/ark-red2.png" class="logo" alt="Ark red2" />
        <div class="lang-selector">
              <a href="#" data-language-name="shell">curl</a>
              <a href="#" data-language-name="java">java</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc" class="toc-list-h1">
          <li>
                <a href="#aces-encoded-listener-api-docs" class="toc-h1 toc-link" data-title="Get Started">Get Started</a>
          </li>
          <li>
                <a href="#overview" class="toc-h1 toc-link" data-title="Overview">Overview</a>
          </li>
          <li>
                <a href="#implementations" class="toc-h1 toc-link" data-title="Implementations">Implementations</a>
          </li>
          <li>
                <a href="#instances" class="toc-h1 toc-link" data-title="Instances">Instances</a>
          </li>
          <li>
                <a href="#authentication" class="toc-h1 toc-link" data-title="Authentication">Authentication</a>
          </li>
          <li>
                <a href="#pagination" class="toc-h1 toc-link" data-title="Pagination">Pagination</a>
          </li>
          <li>
                <a href="#errors" class="toc-h1 toc-link" data-title="Errors">Errors</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#status-codes" class="toc-h2 toc-link" data-title="Status Codes">Status Codes</a>
                  </li>
                  <li>
                    <a href="#general-errors" class="toc-h2 toc-link" data-title="General Errors">General Errors</a>
                  </li>
                  <li>
                    <a href="#general-error-codes" class="toc-h2 toc-link" data-title="General Error Codes">General Error Codes</a>
                  </li>
                  <li>
                    <a href="#validation-errors" class="toc-h2 toc-link" data-title="Validation Errors">Validation Errors</a>
                  </li>
                  <li>
                    <a href="#field-error-codes" class="toc-h2 toc-link" data-title="Field Error Codes">Field Error Codes</a>
                  </li>
              </ul>
          </li>
          <li>
                <a href="#versions" class="toc-h1 toc-link" data-title="Versions">Versions</a>
          </li>
          <li>
                <a href="#api-reference" class="toc-h1 toc-link" data-title="API Reference">API Reference</a>
          </li>
          <li>
                <a href="#subscriptions" class="toc-h1 toc-link" data-title="Subscriptions">Subscriptions</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#create-a-subscription" class="toc-h2 toc-link" data-title="Create a Subscription">Create a Subscription</a>
                  </li>
                  <li>
                    <a href="#get-a-subscription" class="toc-h2 toc-link" data-title="Get a Subscription">Get a Subscription</a>
                  </li>
              </ul>
          </li>
          <li>
                <a href="#event" class="toc-h1 toc-link" data-title="Event">Event</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#list-subscription-events" class="toc-h2 toc-link" data-title="List Subscription Events">List Subscription Events</a>
                  </li>
              </ul>
          </li>
          <li>
                <a href="#unsubscribe" class="toc-h1 toc-link" data-title="Unsubscribe">Unsubscribe</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#create-an-unsubscribe" class="toc-h2 toc-link" data-title="Create an Unsubscribe">Create an Unsubscribe</a>
                  </li>
              </ul>
          </li>
          <li>
                <a href="#health" class="toc-h1 toc-link" data-title="Health">Health</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#get-health-of-node" class="toc-h2 toc-link" data-title="Get Health of node.">Get Health of node.</a>
                  </li>
              </ul>
          </li>
      </div>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='aces-encoded-listener-api-docs'>ACES Encoded Listener API Docs</h1>
<p>The ACES Encoded Listener API Specification defines the API interface for blockchain listeners. 
<a href="https://github.com/ark-aces/aces-encoded-listener-api#sdks">SDKs</a>
are available in Java, Go, PHP, JavaScript, Python, and C#.</p>

<p>The Encoded Listener API provides a way for all the different blockchain transaction events to
 be easily consumed via a common REST-ful API. The API allows consumers to create subscriptions 
 and receive blockchain events in real-time using Webhook callbacks.</p>

<p><img src="images/figures/aces-encoded-listeners.png" alt="Encoded Listener Figure" /></p>
<h1 id='overview'>Overview</h1><pre class="highlight shell tab-shell"><code>curl <span class="s1">'http://bitcoin-encoded-listener.domain.com'</span> <span class="se">\</span>
-X POST <span class="se">\</span>
-d <span class="s1">'{
   "callbackUrl": "http://consumer.domain.com/handler",
   "minConfirmations": 5
}'</span>
</code></pre><pre class="highlight java tab-java"><code><span class="n">EncodedListenerClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">EncodedListenerClient</span><span class="o">(</span>
    <span class="s">"http://bitcoin-encoded-listener.domain.com"</span>
<span class="o">);</span>

<span class="n">SubscriptionRequest</span> <span class="n">request</span> <span class="o">=</span> <span class="k">new</span> <span class="n">SubscriptionRequest</span><span class="o">();</span>
<span class="n">request</span><span class="o">.</span><span class="na">setCallbackUrl</span><span class="o">(</span><span class="s">"http://consumer.domain.com/handler"</span><span class="o">);</span>
<span class="n">request</span><span class="o">.</span><span class="na">setMinConfirmations</span><span class="o">(</span><span class="mi">5</span><span class="o">);</span>

<span class="n">client</span><span class="o">.</span><span class="na">createSubscription</span><span class="o">(</span><span class="n">request</span><span class="o">);</span>
</code></pre>
<blockquote>
<p>After subscribing, the Encoded Listener will <code>POST</code> Bitcoin transaction data to the
 to <code>http://consumer.domain.com/handler</code>:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"93598235283502398502398"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-11-01T00:00:00.000Z"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"new"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"tries"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"hex"</span><span class="p">:</span><span class="w"> </span><span class="s2">"01000000019a9aa57825106e72c92c0c771b88a9f7bbdd399d12e405e29757964f9a387ef0000000006b483045022100fdac2e51068717da7f564ae676d84f04aa6e5157b72c168301809518bc8e733902200b39ba9d0ee8cd0c5f0ed7a4d51ec2aaf5976252aeca6ffd5b9794076898c463012102892589b5b0e2751bd2500a71f06b2d851439678eb0e976be5b5a0cc8f3e49895ffffffff021caa3900000000001976a914ddaccd2403cfffad5936ca66c2c6a7c98146936888ac9b593001000000001976a91461752641b0bf1cecd08341224f83e690853abd0588ac00000000"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"txid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fdcd3564c09ddd33dafd9d1bd2f5dc583f8c818fff631397c7f6d0d12ecf17b4"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"hash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fdcd3564c09ddd33dafd9d1bd2f5dc583f8c818fff631397c7f6d0d12ecf17b4"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"size"</span><span class="p">:</span><span class="w"> </span><span class="mi">226</span><span class="p">,</span><span class="w">
    </span><span class="s2">"vsize"</span><span class="p">:</span><span class="w"> </span><span class="mi">226</span><span class="p">,</span><span class="w">
    </span><span class="err">...</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Consumers must subscribe to an Encoded Listener API instance to start receiving blockchain
events from the Encoded Listener.</p>

<p>Once a consumer has been subscribed, the Encoded Listener will start
sending <code>POST</code> requests to the registered endpoint for every new blockchain transaction
event.</p>

<p>If the consumer fails to respond to the <code>POST</code> with a <code>200</code> response (for example if there is
an error processing the event or the server times out), the Encoded Listener will try to resend
the request as configured by the Encoded Listener.</p>

<p><img src="images/figures/encoded-listener-seq-diagram.png" alt="Encoded Listener Sequence Diagram" /></p>

<p>If the Encoded Listener tries to post too many events to a consumer without success,
the Encoded Listener can cancel the subscription and stop sending events to the consumer.</p>

<p>Consumers can also unsubscribe directly by sending a <code>POST</code> request to the Unsubscribe
endpoint.</p>

<p>Developers of Encoded Listener APIs can view our sample
<a href="https://github.com/ark-aces/aces-encoded-listener-ark">Ark Encoded Listener implementation</a>.</p>
<h1 id='implementations'>Implementations</h1>
<p>The ACES Encoded Listener API defines a standard protocol to facilitate the consumption
of blockchain transaction events across numerous different blockchains. As such, it is a
high level abstraction on top of the different transaction types across blockchains and
needs to be implemented separately for each blockchain. </p>

<p>The Encoded Listener API specifies only the base necessary capabilities for consuming blockchain
transaction events in a generic way that can be supported across many different blockchains.
All implementations conforming to the ACES Encoded Listener API specification can be 
consumed using the common client libraries and processing logic, allowing different blockchains
to be easily plugged into an application, including ACES Services.</p>

<p>In the future we may add API Capability Interfaces that can define more advanced implementations
for subscribing to and consuming blockchain events such as searching or filtering on event
streams.</p>
<h1 id='instances'>Instances</h1>
<p>Instances run on any web server and can be made private or public. Multiple instances may
also run on a single web server using different HTTP ports. Because instances require direct
access to the blockchain transaction data, they typically would need to be running as a 
blockchain node or make calls to the target blockchain using an RPC client (for example <code>geth</code>).</p>

<p>We don&#39;t make any guarantees on how instances are managed, so consumers will need to host
their own instances, subscribe to only trusted providers, or subscribe to multiple instances to
ensure they receive up-to-date blockchain events in the case a provider goes down.</p>
<h1 id='authentication'>Authentication</h1>
<p>The ACES Encoded Listener API does not define any authentication method at this time.
This allows any consumer to subscribe to and receive listener blockchain event data. If an
ACES Encoded Listener provider needs more security around subscriptions, they can host
their instance on private network or implement <code>HTTP Basic Auth</code> for their web server and
require consumers to send an <code>Authorization</code> header with valid credentials.</p>
<h1 id='pagination'>Pagination</h1><pre class="highlight shell tab-shell"><code><span class="nv">url</span><span class="o">=</span><span class="s2">"http://localhost/subscriptions/3985723987423/events"</span>
<span class="nv">url</span><span class="o">=</span><span class="s2">"</span><span class="nv">$url</span><span class="s2">?pageSize=100"</span>
<span class="nv">url</span><span class="o">=</span><span class="s2">"</span><span class="nv">$url</span><span class="s2">&amp;page=4"</span>
<span class="nv">url</span><span class="o">=</span><span class="s2">"</span><span class="nv">$url</span><span class="s2">&amp;continuation=839729837520395702375023"</span>
curl -X GET <span class="s2">"</span><span class="nv">$url</span><span class="s2">"</span>  
</code></pre><pre class="highlight java tab-java"><code><span class="n">EncodedListenerClient</span> <span class="n">client</span> <span class="o">=</span> <span class="k">new</span> <span class="n">EncodedListenerClient</span><span class="o">(</span><span class="s">"http://localhost"</span><span class="o">);</span>

<span class="n">SubscriptionPageRequest</span> <span class="n">request</span> <span class="o">=</span> <span class="k">new</span> <span class="n">SubscriptionPageRequest</span><span class="o">();</span>
<span class="n">request</span><span class="o">.</span><span class="na">setPageSize</span><span class="o">(</span><span class="mi">100</span><span class="o">);</span>
<span class="n">request</span><span class="o">.</span><span class="na">setPage</span><span class="o">(</span><span class="mi">4</span><span class="o">);</span>
<span class="n">request</span><span class="o">.</span><span class="na">setContinuation</span><span class="o">(</span><span class="s">"933502938509238509283059"</span><span class="o">);</span>

<span class="n">Page</span><span class="o">&lt;</span><span class="n">Subscription</span><span class="o">&gt;</span> <span class="n">subscriptionsPage</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="na">getSubscriptionsPage</span><span class="o">(</span><span class="n">request</span><span class="o">);</span>
</code></pre><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"pageSize"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"page"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"continuation"</span><span class="p">:</span><span class="w"> </span><span class="s2">"933502938509238509283059"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"items"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"callbackUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://localhost/handler"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"minConfirmations"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
      </span><span class="s2">"createdAt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-11-01T00:00:00.000Z"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>A <code>GET</code> request that returns a list of unbound items will be paginated
in a way to return only a small number of items per page.</p>

<p>Clients can request additional pages by performing additional <code>GET</code>
requests to retrieve the next page.</p>

<p>Page number is zero-offset such that the first page has <code>page = 0</code>.</p>

<p>The page response contains a <code>continuation</code> property that can be added
to <code>GET</code> requests for the next page to stabilize pagination offsets.
Including the continuation parameter ensures that newly added items
will not shift down items in the next page. This allows pages to be
iterated over without encountering repeat elements as elements are
added.</p>
<h1 id='errors'>Errors</h1>
<p>ACES Encoded Listener API instances can return a set of standard HTTP errors classified by
the response HTTP Status code.</p>

<p>An request body validation error returns a <code>400</code> HTTP Status Code and an error response body
with a detailed description of field validation errors. Consumers should correct the request
before resubmitting the request.</p>

<p>Any <code>5xx</code> level errors can be retried without making changes to the request since they
are returned when there is something wrong with the server and not the consumer&#39;s request.</p>
<h3 id='status-codes'>Status Codes</h3>
<p>ACES Encoded Listener API instances return errors responses with the following HTTP Status codes:</p>

<table><thead>
<tr>
<th>HTTP Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>The request was invalid. The consumer should read error messages and correct the request body before resending request.</td>
</tr>
<tr>
<td>404</td>
<td>The requested resource was not found.</td>
</tr>
<tr>
<td>405</td>
<td>The URL in the request does not support the requested HTTP method.</td>
</tr>
<tr>
<td>429</td>
<td>Too many requests have been sent over a given time frame and the server has limited the consumer.</td>
</tr>
<tr>
<td>500</td>
<td>The server had an unexpected error. Consumers should try the request again later.</td>
</tr>
<tr>
<td>503</td>
<td>The server is running, but not currently accepting traffic. Consumers should try the request again later.</td>
</tr>
</tbody></table>
<h3 id='general-errors'>General Errors</h3>
<blockquote>
<p>Example error response:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl <span class="s1">'http://localhost/subscriptions/123456/unsubcriptions'</span> <span class="se">\</span>
  -X POST 
</code></pre><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"alreadyUnsubscribed"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"The Subscription has already been unsubscribed."</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Errors always return an error code and human readable error message.
Consumers should handle any expected errors for an API call using the error <code>code</code> value.</p>
<h3 id='general-error-codes'>General Error Codes</h3>
<table><thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>notFound</td>
<td>The requested resource was not found.</td>
</tr>
<tr>
<td>invalidRequest</td>
<td>The request body is invalid. See <code>Validation Errors</code> below.</td>
</tr>
</tbody></table>
<h3 id='validation-errors'>Validation Errors</h3>
<blockquote>
<p>Example error response:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>curl <span class="s1">'http://localhost/subscriptions'</span> <span class="se">\</span>
  -X POST <span class="se">\</span>
  -d <span class="s1">'{
     "callbackUrl": "not-a-url"
  }'</span>
</code></pre><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"invalidRequest"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Request is invalid."</span><span class="p">,</span><span class="w">
  </span><span class="s2">"fieldErrors"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"field"</span><span class="p">:</span><span class="w"> </span><span class="s2">"callbackUrl"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"invalidUrl"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"The url given is invalid."</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"field"</span><span class="p">:</span><span class="w"> </span><span class="s2">"minConfirmations"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"required"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Min confirmations is required."</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Validation errors have http status code = <code>400</code> and a response body error code = <code>invalidRequest</code>.
Any field validation errors are returned in the <code>fieldErrors</code> list and include the field name corresponding
to the request parameter, validation error code, and human-readable message for the field error.</p>
<h3 id='field-error-codes'>Field Error Codes</h3>
<table><thead>
<tr>
<th>Code</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>required</td>
<td>The field value is required.</td>
</tr>
<tr>
<td>invalidUrl</td>
<td>The given URL value is invalid.</td>
</tr>
<tr>
<td>tooShort</td>
<td>The field value given is too short.</td>
</tr>
<tr>
<td>tooLong</td>
<td>The field value given is too long.</td>
</tr>
</tbody></table>
<h1 id='versions'>Versions</h1>
<p>Encoded Listeners instances can upgrade to new backwards compatible versions without
breaking client integrations. ACES defines backwards compatible changes as any of the following:</p>

<ul>
<li>Adding new API endpoints</li>
<li>Adding new optional request parameters</li>
<li>Adding new response properties</li>
<li>Changing length or format of String properties</li>
</ul>

<p>If breaking changes to the Encoded Listener must be made, the provider needs to launch a new
version in parallel at a different URL and have clients re-subscribe to the new version URL. </p>
<h1 id='api-reference'>API Reference</h1><h1 id='subscriptions'>Subscriptions</h1>
<p>The Subscribers endpoint allows subscriber to register their node to receive blockchain events from the Encoded Listener.</p>
<h2 id='create-a-subscription'>Create a Subscription</h2><pre class="highlight shell tab-shell"><code>    curl -X POST <span class="s1">'http://localhost:8080/subscriptions'</span>
</code></pre><pre class="highlight javascript tab-javascript"><code>    <span class="kr">const</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'request'</span><span class="p">);</span>
    <span class="nx">request</span><span class="p">(</span>
        <span class="s1">'http://localhost:8080/subscriptions/'</span><span class="p">,</span> 
        <span class="p">{</span> <span class="na">json</span><span class="p">:</span> <span class="kc">true</span> <span class="p">},</span> 
        <span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">res</span><span class="p">,</span> <span class="nx">body</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
          <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">.</span><span class="nx">explanation</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">);</span>
</code></pre>
<p>The request to create a new Subscription.</p>
<h3 id='parameters'>Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>callbackUrl</td>
<td>string</td>
<td>Target target URL to POST Encoded Listener events to.</td>
</tr>
<tr>
<td>minConfirmations</td>
<td>integer</td>
<td>Confirmations required before event is sent to subscriber.</td>
</tr>
</tbody></table>
<h3 id='http-request'>HTTP Request</h3>
<p><code>POST http://localhost:8080/subscriptions</code></p>
<h2 id='get-a-subscription'>Get a Subscription</h2><pre class="highlight shell tab-shell"><code>    curl -X GET <span class="s1">'http://localhost/subscriptions/{id}'</span>
</code></pre>
<p>Get a Subscription by identifier.</p>
<h3 id='parameters-2'>Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>In</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>path</td>
<td>string</td>
<td>True</td>
<td>Subscription identifier</td>
</tr>
</tbody></table>
<h3 id='http-request-2'>HTTP Request</h3>
<p><code>GET http://localhost:8080/subscriptions/{id}</code></p>
<h1 id='event'>Event</h1><h2 id='list-subscription-events'>List Subscription Events</h2><pre class="highlight shell tab-shell"><code>  curl -X GET <span class="s1">'http://localhost:8080/subscriptions/{id}/events'</span>
</code></pre><pre class="highlight javascript tab-javascript"><code>  <span class="kr">const</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'request'</span><span class="p">);</span>
  <span class="nx">request</span><span class="p">(</span>
      <span class="s1">'http://localhost:8080/subscriptions/'</span> <span class="o">+</span> <span class="nx">subscriptionId</span> <span class="o">+</span> <span class="s1">'/events'</span><span class="p">,</span> 
      <span class="p">{</span> <span class="na">json</span><span class="p">:</span> <span class="kc">true</span> <span class="p">},</span> 
      <span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">res</span><span class="p">,</span> <span class="nx">body</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">.</span><span class="nx">explanation</span><span class="p">);</span>
      <span class="p">}</span>
  <span class="p">);</span>
</code></pre>
<p>Gets a page of Subscription Events.</p>
<h3 id='parameters-3'>Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>In</th>
<th>Type</th>
<th>Required</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>path</td>
<td>string</td>
<td>True</td>
<td></td>
<td>Subscription identifier</td>
</tr>
<tr>
<td>pageSize</td>
<td>query</td>
<td>integer</td>
<td></td>
<td>100</td>
<td>Number of items to return per page.</td>
</tr>
<tr>
<td>page</td>
<td>query</td>
<td>integer</td>
<td></td>
<td></td>
<td>Zero-offset page number to return.</td>
</tr>
<tr>
<td>continuation</td>
<td>query</td>
<td>string</td>
<td></td>
<td></td>
<td>Continuation param for fetching next page.</td>
</tr>
</tbody></table>
<h3 id='http-request-3'>HTTP Request</h3>
<p><code>GET http://localhost:8080/subscriptions/{id}/events</code></p>
<h1 id='unsubscribe'>Unsubscribe</h1><h2 id='create-an-unsubscribe'>Create an Unsubscribe</h2><pre class="highlight shell tab-shell"><code>  curl -X POST <span class="s1">'http://localhost:8080/subscriptions/{id}/unsubscribes'</span>
</code></pre><pre class="highlight javascript tab-javascript"><code>  <span class="kr">const</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'request'</span><span class="p">);</span>
  <span class="nx">request</span><span class="p">(</span>
      <span class="s1">'http://localhost:8080/subscriptions/'</span> <span class="o">+</span> <span class="nx">subscriptionId</span> <span class="o">+</span> <span class="s1">'/unsubscribes'</span><span class="p">,</span> 
      <span class="p">{</span> <span class="na">json</span><span class="p">:</span> <span class="kc">true</span> <span class="p">},</span> 
      <span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">res</span><span class="p">,</span> <span class="nx">body</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">body</span><span class="p">.</span><span class="nx">explanation</span><span class="p">);</span>
      <span class="p">}</span>
  <span class="p">);</span>
</code></pre>
<p>Unsubscribes an active Subscription.</p>

<blockquote>
<p>Returned response:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="w">  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"329857298735983"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-11-08T05:34:54.267Z"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='parameters-4'>Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>In</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>path</td>
<td>string</td>
<td>True</td>
<td>Subscription Identifier</td>
</tr>
</tbody></table>
<h3 id='http-request-4'>HTTP Request</h3>
<p><code>POST http://localhost:8080/subscriptions/{id}/unsubscribes</code></p>
<h1 id='health'>Health</h1><h2 id='get-health-of-node'>Get Health of node.</h2><pre class="highlight shell tab-shell"><code>    curl -X GET <span class="s1">'http://localhost:8080/status'</span>
</code></pre>
<p>Get application health information.</p>
<h3 id='http-request-5'>HTTP Request</h3>
<p><code>GET http://localhost:8080/status</code></p>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="shell">curl</a>
                <a href="#" data-language-name="java">java</a>
          </div>
      </div>
    </div>
  </body>
</html>
